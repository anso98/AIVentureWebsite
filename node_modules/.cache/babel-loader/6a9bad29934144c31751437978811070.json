{"ast":null,"code":"import _regeneratorRuntime from \"/Users/Anso/Code/Imperial_College/AI Venture/sunshine-avenue/Webpage/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/Anso/Code/Imperial_College/AI Venture/sunshine-avenue/Webpage/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"/Users/Anso/Code/Imperial_College/AI Venture/sunshine-avenue/Webpage/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"/Users/Anso/Code/Imperial_College/AI Venture/sunshine-avenue/Webpage/src/components/Prediction.js\";\n\nimport { useState } from \"react\";\nimport OutputList from \"./OutputList\";\nimport React from 'react';\nimport '../App.css';\n\nvar Prediction = function Prediction() {\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      prediction = _useState2[0],\n      setPrediction = _useState2[1];\n\n  var _useState3 = useState(0),\n      _useState4 = _slicedToArray(_useState3, 2),\n      isPending = _useState4[0],\n      setIsPending = _useState4[1];\n\n  var _useState5 = useState(false),\n      _useState6 = _slicedToArray(_useState5, 2),\n      isPrinting = _useState6[0],\n      setIsPrinting = _useState6[1];\n\n  var handlePrediction = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      var newPrediction, newPrediction1, newPrediction2, newPrediction3;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              setIsPending(1);\n              runMLModel();\n              console.log(long);\n              console.log(lat);\n              _context.next = 6;\n              return sleep(1000);\n\n            case 6:\n              newPrediction = {\n                title: \"1. Collecting weather data for location\",\n                id: 1\n              };\n              setPrediction(function (prediction) {\n                return [newPrediction];\n              });\n              setIsPrinting(true);\n              _context.next = 11;\n              return sleep(1000);\n\n            case 11:\n              newPrediction1 = {\n                title: \"2. Pre-processing weather data\",\n                id: 2\n              };\n              setPrediction(function (prediction) {\n                return [prediction[0], newPrediction1];\n              });\n              _context.next = 15;\n              return sleep(1000);\n\n            case 15:\n              newPrediction2 = {\n                title: \"3. Using pre-trained neural network to analyze data\",\n                id: 3\n              };\n              setPrediction(function (prediction) {\n                return [prediction[0], prediction[1], newPrediction2];\n              });\n              _context.next = 19;\n              return sleep(1000);\n\n            case 19:\n              newPrediction3 = {\n                title: \"4. Making final prediction for solar energy potential\",\n                id: 4\n              };\n              setPrediction(function (prediction) {\n                return [prediction[0], prediction[1], prediction[2], newPrediction3];\n              });\n              setIsPending(2);\n\n            case 22:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function handlePrediction() {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  function sleep(ms) {\n    return new Promise(function (resolve) {\n      return setTimeout(resolve, ms);\n    });\n  }\n\n  function runMLModel() {\n    var long = document.getElementById(\"long\").value;\n    var lat = document.getElementById(\"lat\").value;\n    var coordinates = {\n      'long': long,\n      'lat': lat\n    };\n    var request = new XMLHttpRequest();\n    request.open('POST', '/pythonScript/' + JSON.stringify(coordinates), true);\n    request.setRequestHeader('Content-Type', 'application/json; charset=UTF-8');\n    request.send();\n\n    request.onreadystatechange = function () {\n      if (request.readyState == 4 && request.status == 200) {\n        var result = request.response;\n        document.getElementById(\"output1\").innerHTML = result;\n      }\n    };\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"Prediction\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 9\n    }\n  }, \" Please insert your location: \"), /*#__PURE__*/React.createElement(\"br\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"label\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 9\n    }\n  }, \"Latitude: \"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    name: \"Latitude\",\n    placeholder: \"Latitude\",\n    id: \"lat\",\n    required: true,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"label\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 9\n    }\n  }, \"Longitude: \"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    name: \"Longitude\",\n    placeholder: \"Longitude\",\n    id: \"long\",\n    required: true,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    onClick: function onClick() {\n      return handlePrediction();\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 9\n    }\n  }, \"predict\"), /*#__PURE__*/React.createElement(\"br\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 9\n    }\n  }), isPending == 1 && /*#__PURE__*/React.createElement(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 28\n    }\n  }, \" \", /*#__PURE__*/React.createElement(\"h3\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 34\n    }\n  }, \" Prediction in Progress.... \")), isPending == 2 && /*#__PURE__*/React.createElement(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 28\n    }\n  }, \" \", /*#__PURE__*/React.createElement(\"h3\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 34\n    }\n  }, \" Prediction completed! \")), /*#__PURE__*/React.createElement(\"br\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 9\n    }\n  }), isPrinting && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"outputBox\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 24\n    }\n  }, prediction.map(function (prediction) {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"prediction-preview\",\n      key: prediction.id,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"h2\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 17\n      }\n    }, prediction.title));\n  })));\n};\n\nexport default Prediction;","map":{"version":3,"sources":["/Users/Anso/Code/Imperial_College/AI Venture/sunshine-avenue/Webpage/src/components/Prediction.js"],"names":["useState","OutputList","React","Prediction","prediction","setPrediction","isPending","setIsPending","isPrinting","setIsPrinting","handlePrediction","runMLModel","console","log","long","lat","sleep","newPrediction","title","id","newPrediction1","newPrediction2","newPrediction3","ms","Promise","resolve","setTimeout","document","getElementById","value","coordinates","request","XMLHttpRequest","open","JSON","stringify","setRequestHeader","send","onreadystatechange","readyState","status","result","response","innerHTML","map"],"mappings":"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","sourcesContent":["import { useState } from \"react\";\nimport OutputList from \"./OutputList\";\nimport React from 'react';\nimport '../App.css';\n\n\n\nconst Prediction = () => {\n  const [prediction, setPrediction] = useState([]);\n  const [isPending, setIsPending] = useState(0);\n  const [isPrinting, setIsPrinting] = useState(false);\n\n\n    const handlePrediction = async () => {\n    \n    setIsPending(1);\n\n    runMLModel();\n\n    console.log(long);\n    console.log(lat);\n\n    await sleep(1000);\n    const newPrediction = {title: \"1. Collecting weather data for location\", id: 1};\n    setPrediction(prediction => [newPrediction]);\n    \n    setIsPrinting(true);\n\n    await sleep(1000);\n    const newPrediction1 = {title: \"2. Pre-processing weather data\", id: 2};\n    setPrediction(prediction => [prediction[0], newPrediction1]);\n\n    await sleep(1000);\n    const newPrediction2 = {title: \"3. Using pre-trained neural network to analyze data\", id: 3};\n    setPrediction(prediction => [prediction[0], prediction[1], newPrediction2]);\n\n    await sleep(1000);\n    const newPrediction3 = {title: \"4. Making final prediction for solar energy potential\", id: 4};\n    setPrediction(prediction => [prediction[0], prediction[1], prediction[2], newPrediction3]);\n\n    setIsPending(2);\n  }\n\n  function sleep(ms) {\n    return new Promise(resolve => setTimeout(resolve, ms));\n    }\n\n    function runMLModel(){\n        var long = document.getElementById(\"long\").value;\n        var lat = document.getElementById(\"lat\").value;\n        var coordinates = {\n            'long': long,\n            'lat': lat,\n        }\n        const request = new XMLHttpRequest()\n        request.open('POST', '/pythonScript/' + JSON.stringify(coordinates), true)\n        request.setRequestHeader('Content-Type', 'application/json; charset=UTF-8')\n        request.send()\n        request.onreadystatechange = () => {\n            if (request.readyState == 4 && request.status == 200) {\n                var result = request.response\n                document.getElementById(\"output1\").innerHTML = result;\n            }\n        }\n    }\n\n  return (\n    <div className=\"Prediction\">\n        <h2> Please insert your location: </h2> \n        <br></br>\n        <label>Latitude: </label>\n        <input type=\"text\" name=\"Latitude\" placeholder=\"Latitude\" id=\"lat\" required></input>\n        <br></br>\n        <label>Longitude: </label>\n        <input type=\"text\" name=\"Longitude\" placeholder=\"Longitude\" id=\"long\" required></input>\n\n        <br></br>\n\n        <button onClick={() => handlePrediction()}>predict</button>\n        <br></br>\n        {isPending == 1 && <div> <h3> Prediction in Progress.... </h3></div>}\n        {isPending == 2 && <div> <h3> Prediction completed! </h3></div>}\n\n        <br></br>\n        {isPrinting && <div className=\"outputBox\">\n            {prediction.map(prediction => (\n            <div className=\"prediction-preview\" key={prediction.id} >\n                <h2>{ prediction.title }</h2>\n            </div>\n            ))}\n        </div>}\n\n\n        </div>\n  );\n}\n \nexport default Prediction;\n"]},"metadata":{},"sourceType":"module"}